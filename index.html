<!DOCTYPE html>
<html>
<head>
   <title>New Kensington Proposed Demolition Map </title>
<style>
#map {
height: 600px;
width: 100%;
}
</style>
</head>
<body>
<div id="map"></div>
<script type="text/javascript" src="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/infobox/src/infobox.js"></script>
<script type ="text/javascript">
function initMap() {
var map = new google.maps.Map(document.getElementById('map'), {
zoom: 15,
//I didn't want to set the zoom at too far to avoid the markers clustering too close together, I felt 14 as the default was a decent happy medium.
center: {lat: 40.565411, lng: -79.765182},
//The map is centered at the Berkey Creamery's coordinates, all markers are not immediately in view, but most of them are.
mapTypeId: google.maps.MapTypeId.ROADMAP
});
//array for markers
var locationss = [
{Address: "  637  5th Avenue  ", Type : "  Residential  ", Owner: "  Robert and Elizabeth Schneider  ", Notes: "    ", lat:   40.562095  , lng:  -79.764594  },
{Address: "  1001-1009  5th Avenue  ", Type : "  Commercial  ", Owner: "  Anthony Csizmadia  ", Notes: "    ", lat:   40.566969  , lng:  -79.765771  },
{Address: " 412 10th Street ", Type : " Commercial ", Owner: " Vincent O'Hara ", Notes: "  ", lat:  40.56663 , lng: -79.766276 },
{Address: " 404 10th Street ", Type : " Commercial ", Owner: " Vincent O'Hara ", Notes: "  ", lat:  40.566612 , lng: -79.766404 },
{Address: " 908 5th Avenue ", Type : " Residential ", Owner: " Daniel Taggart ", Notes: "  ", lat:  40.565683 , lng: -79.765087 },
{Address: "  405 10th Street  ", Type : "  Residential  ", Owner: "  Westmoreland County  ", Notes: "    ", lat:   40.566801  , lng:  -79.766461  },
{Address: "  411 10th Street Block 6  ", Type : "  Commercial  ", Owner: "  David L Renwick Sr.  ", Notes: "    ", lat:   40.566838  , lng:  -79.766383  },
{Address: "  417-419 10th Street  ", Type : "  Residential  ", Owner: "  City of New Kensington  ", Notes: "    ", lat:   40.566846  , lng:  -79.766238  },
{Address: "  415 10th Street  ", Type : "  Commercial  ", Owner: "  Westmoreland County  ", Notes: "    ", lat:   40.566862  , lng:  -79.766314  },
{Address: "  733 5th Ave  ", Type : "  Commercial  ", Owner: "  Ed & Maria Dorsey   ", Notes: "  Rear house to be demolished by owners when they have the money   ", lat:   40.563447  , lng:  -79.765187  },
{Address: "  324 10th Street  ", Type : "  Residential  ", Owner: "  Michael & Theodore Saganis  ", Notes: "    ", lat:   40.566425  , lng:  -79.767528  }
];
//array for polyline
var corridorCoordinates = [
   {lat:40.569573, lng: -79.766179},
   {lat: 40.562610, lng: -79.764522}
   ];
var corridor = new google.maps.Polyline({
   path: corridorCoordinates,
   geodesic: true,
   strokeColor: '#FF0000',
   strokeOpacity: .5,
   strokeWeight: 6,
   title: "Corridor of Innovation"
});
var polylineWindow = new google.maps.InfoWindow;
var infowindow = new google.maps.InfoWindow;
var marker, i;
for(var i=0; i<locationss.length; i++){
var marker = new google.maps.Marker({
position: new google.maps.LatLng(locationss[i].lat, locationss[i].lng),
map: map,
title: locationss[i].Address
//It takes a second or two for the title to display, but it shows the location that the crime occurred in by hovering over the marker. However, title will not display if the marker is clicked on.
});
google.maps.event.addListener(marker, 'click', (function(marker, i) {
return function() {
var Address = locationss[i].Address;
var Property = locationss[i].Type;
var Owner = locationss[i].Owner;
var Notes = locationss[i].Notes;
var iwContent = "<div style = 'width:200px;min-height:40px'><h3>" + Address + "</h3>" + "<p>" + Property + "</p>" + "<p>" + Owner + "</p>"+ "<p>"+ Notes + "</p>" + "</div>";
//Inserting the div for the infowindow straight into the setContent parenthesis was not working so I created a variable to house it.
infowindow.setContent(iwContent);
infowindow.open(map, marker);
//By clicking on markers an infowindow will open up that displays details related to the crime. Specifically the location, date, the type of offense and details about the crime.
}
})(marker, i));
}
google.maps.event.addListener(corridor, 'mouseover', function(e) {
   var position = e.latLng
   var pwContent = "<div style = 'width:200px;min-height:20px'><h3>Corridor of Innovation</h3></div>";
   polylineWindow.setPosition(position);
   polylineWindow.setContent(pwContent);
   polylineWindow.open(map,corridor);
});
google.maps.event.addListener(corridor, 'mouseout', function() {
    polylineWindow.close();
});
corridor.setMap(map);
}
    </script>
    <script
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAK-sn_f8TKF5YErwICZUPqvSvmdv3f8fA&callback=initMap">
    </script>
    </body>
</html>
